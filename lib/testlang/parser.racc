class Testlang::Parser

rule

array   : '[' contents ']'
            {
              result = val[1]
            }
        | '[' ']'
            {
              result = []
            }

contents: ITEM
            {
              result = val
            }
        | contents ',' ITEM
            {
              result.push val[2]
            }

---- inner
  def parse(tokens)
    @tokens = tokens
	
	do_parse
  end
  
  def next_token
    @tokens.shift
  end
